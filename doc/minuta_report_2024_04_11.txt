Appunti incontro loris-Federico 11-04-2024
Revisione materiali repository GitHub AI92/HV507 reperibile al seguente link https://github.com/Ai92/HV507

Dall’analisi del codice abbiamo compreso che questo può essere fatto girare dentro un Arduino. Dopo aver collegato i pin di un controller HV507 come indicato nel file config.h il programma permette di accendere i pin di una cella braille ricevendo i valori dalla porta seriale di Arduino stesso.  Bisogna ancora comprendere bene il formato dei messaggi da inviare sulla porta seriale ma non dovrebbe essere cosa difficile da farsi. Dalla lettura del codice non sembrerebbe possibile far scorrere i caratteri avanti ed indietro su un’ipotetica barra ovvero ogni nuova configurazione di pin della cella braille viene spinta dentro nel chip e le più vecchie probabilmente vengono spinte in avanti. La funzione che pilota i pin di clock e di data per caricare i dati è nell’oggetto HV507 in particolare il metodo loadSR che si trova nel file HV507.cpp alla riga 56.

La compilazione dello sketch è stata portata a termine senza errori sulla macchina del prof di Sante su cui girava Arduino 1.8.19.  Il file main.cpp è stato rinominato in logic.ino e gli altri file insieme al file logic.ino sono stati messi nella cartella logic.

Confrontandoci con il prof Di Biase a cui abbiamo mostrato il data sheet dell’HV507 abbiamo avuto conferma che il chip è in grado di pilotare componenti in alta tensione fino a 300V. Secondo il prof Di Biase se portiamo un’alimentazione di massimo 60V possiamo lavorare in sicurezza. Pertanto sarà opportuno fare delle prove con la libreria sopra citata mettendo VPP a tensioni di 30-40-50-60V sperando che i pin riescano a muoversi. Se ciò non fosse, dobbiamo provare a vedere se almeno quelle tensioni sono prodotte a vuoto staccando le celle braille per avere almeno contezza che la libreria funzioni. In caso positivo occorre confrontarsi nuovamente con il prof Di Biase per capire il da farsi (aveva anticipato che eventualmente per provare se funziona a tensioni più alte occorre un doppio isolamento poiché il circuito superati i 70V diventerebbe di classe seconda). È importante ricordare la prima regola: non farsi male!
